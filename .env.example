# Core application settings

### Database URLs
# Use Postgres (local host) for development:
DATABASE_URL=postgresql+asyncpg://app:app@localhost:5432/app
# Synchronous URL for Alembic migrations (sync driver):
SYNC_DATABASE_URL=postgresql+psycopg://app:app@localhost:5432/app

# Alternatively, use SQLite for quick local runs:
# DATABASE_URL=sqlite+aiosqlite:///./app.db
# SYNC_DATABASE_URL=sqlite:///./app.db

## If running via docker-compose (inside the compose network), use service names:
# DATABASE_URL=postgresql+asyncpg://app:app@db:5432/app
# SYNC_DATABASE_URL=postgresql+psycopg://app:app@db:5432/app

### Postgres container credentials (used by docker-compose db service)
POSTGRES_DB=app
POSTGRES_USER=app
POSTGRES_PASSWORD=app

# Authentication / JWT
JWT_SECRET=please_change_me
ACCESS_TOKEN_TTL=3600

### Messaging (RabbitMQ)
RABBITMQ_URL=amqp://guest:guest@localhost:5672//
# For docker-compose internal network:
# RABBITMQ_URL=amqp://guest:guest@rabbitmq:5672//

# CORS configuration
# JSON list of allowed origins. Use ["*"] to allow all (dev only).
CORS_ORIGINS=["http://localhost:3000","http://127.0.0.1:3000"]

### Feature flags / behavior
IMPROVEMENT_DEDUP_ENABLED=true
CELERY_TASK_ALWAYS_EAGER=false

# API base path
API_PREFIX=/api/v1

### Logging
LOG_LEVEL=INFO

### Frontend (Vite) build-time variables
# If empty, frontend uses same-origin `/api` via Nginx proxy
VITE_API_BASE_URL=
# Token storage: local | session
VITE_AUTH_STORAGE=local
VITE_POLL_INTERVAL_MS=1000
VITE_POLL_TIMEOUT_MS=60000
